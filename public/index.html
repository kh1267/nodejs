<!DOCTYPE html>

<html lang="ko">
<head>
    <meta charset="utf-8" />
    <title>Data Process</title>

</head>
<body>
    <!--<script src="./jquery-3.3.1.js"></script>-->
    <script>
        //XMLHttpRequest 객체를 생성합니다
        var req = new XMLHttpRequest();

        //json 요청과 조작
        //req.onreadystatechange = function (event) {
        //    if (req.readyState == 4) {
        //        if (req.status == 200) {
        //            var json = JSON.parse(req.responseText)
                    
        //            var output = '';
        //            for (var i = 0; i < json.length; i++) {
        //                for (var key in json[i]) {
        //                    output += '<h1>' + key + ':' +json[i][key]+ '</h1>'
        //                }
        //            }
        //            document.body.innerHTML += output
                    
        //        };
        //    };
        //};
        
        //req.open('GET', '/data.json', true);
        //req.send();

        //xml 요청과조작
        //req.responseType = 'document';
        req.overrideMimeType('text/xml');
        req.onreadystatechange = function (event) {
            if (req.readyState == 4) {
                if (req.status == 200) {
                    var xml = req.responseXML

                    var names = xml.getElementsByTagName('name');
                    var prices = xml.getElementsByTagName('price');

                    for (var i = 0; i < names.length; i++) {
                        var name = names[i].childNodes[0].nodeValue;
                        var price = prices[i].childNodes[0].nodeValue;
                        document.body.innerHTML += '<h1>' + name + '</h1>'
                        document.body.innerHTML += '<h1>' + price + '</h1>'
                    }
                }
            }
        };
        
        req.open('GET', '/data.xml', true);
        req.send()
    </script>
   
</body>
</html>